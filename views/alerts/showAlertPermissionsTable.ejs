<% include ../headers/header.ejs %>

<div class="right_col" role="main">
  <div class="clearfix"></div>
<body>
<h1><%= title %></h1>
    <input type="hidden" id="typeAclAlert"  value="<%= typeAclAlert %>">

    <form>
        <input type="submit" name="btSave" id="btSave" value="SAVE" disabled="true" onclick="this.disabled=true" class="btn btn-primary"><br><br>
    </form>

    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
          <div class="x_content">
            <div class="" role="tabpanel" data-example-id="togglable-tabs">
                <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                  <li role="presentation" class="active"><a href="#tab_content1" id="schoolStaff-tab" role="tab" data-toggle="tab" aria-expanded="true">Send Alerts</a>
                  </li>
                  <li role="presentation" class=""><a href="#tab_content2" role="tab" id="parents-tab" data-toggle="tab" aria-expanded="false">Receive Alerts</a>
                  </li>
                </ul>
              </div>
              <div id="myTabContent" class="tab-content">
                <div role="tabpanel" class="tab-pane fade active in" id="tab_content1">
                  <table id="datatable" class="table table-striped table-bordered table-hover">
                    <thead>
                      <tr>
                        <td></td>
                        <% roles2.forEach(function(roles2) { %>
                        <th id="<%= roles2.roleName %>" scope="col"><b><%= roles2.roleName %></b></th>
                        <% }); %>
                      </tr>
                    </thead>
                    <tbody>
                      <th id="send" class="span" colspan="<%= roles2Count + 1 %>" scope="colgroup"><b>SEND ALERTS</b></th>
                      <% alertGroup.forEach(function(alertGroup) { %>
                      <tr>
                        <th align="center">&nbsp&nbsp&nbsp<b><%= alertGroup.alertTypeName %></b></th>
                          <% roles2.forEach(function(roles2) { %>
                        <td headers="users <%= alert.alertName %>  <%= roles2.roleName %>" align="center">
                          
                        </td>
                        <% }); %>
                      </tr>
                      <% alert.forEach(function(alert) { %>
                      <% if (alert.softDeleted == false) { %>
                      <% if (alertGroup.alertTypeID == alert.alertTypeID) { %>
                      <tr>
                        <th align="left" headers="users" id="send_<%= alert.alertName %>"><%= alert.alertName %></th>
                          <% roles2.forEach(function(roles2) { %>
                        <td headers="users <%= alert.alertName %>  <%= roles2.roleName %>" align="center">
                          <% if ((aclModifyAlertsTable == null || aclModifyAlertsTable.checkBoxValue == true)) {%>
                            <input type="checkbox"
                                  name="aclAlertCheckBox"
                                  value="s<%= roles2.roleID %><%= alert.alertID %>"
                                  class="S<%= roles2.roleID %><%= alertGroup.alertTypeID %>"
                                    <% var checkBoxNumber = 's'+roles2.roleID+''+alert.alertID %>
                                    <% aclAlerts.forEach(function(acl) { %>
                                    <% if ( acl.checkBoxID == checkBoxNumber && acl.checkBoxValue == true) { %>
                                      checked
                                    <% } %>
                                    <% }); %>
                                      onClick="EnableSubmit(this)" />
                          <% } else { %>
                            <input type="checkbox"
                                  name="aclAlertCheckBox"
                                  value="s<%= roles2.roleID %><%= alert.alertID %>"
                                  class="S<%= roles2.roleID %><%= alertGroup.alertTypeID %>"
                                    <% var checkBoxNumber = 's'+roles2.roleID+''+alert.alertID %>
                                    <% aclAlerts.forEach(function(acl) { %>
                                    <% if ( acl.checkBoxID == checkBoxNumber && acl.checkBoxValue == true) { %>
                                      checked
                                    <% } %>
                                    <% }); %>
                                      onClick="EnableSubmit(this)" disabled/>
                                    <% } %>
                                    <% }); %>
                        </td>
                      </tr>
                      <% } %>
                      <% } %>
                      <% }); %>
                      <% }); %>
                    </tbody>
                  </table>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="tab_content2">
                  <table id="datatable" class="table table-striped table-bordered table-hover">
                    <thead>
                      <tr>
                        <td></td>
                        <% roles2.forEach(function(roles2) { %>
                        <th id="<%= roles2.roleName %>" scope="col"><b><%= roles2.roleName %></b></th>
                        <% }); %>
                      </tr>
                    </thead>
                    <tbody>
                    <th id="send" class="span" colspan="<%= roles2Count + 1 %>" scope="colgroup" align="left"><b>RECEIVE ALERTS</b></th>
                    <% alertGroup.forEach(function(alertGroup) { %>
                    <tr>
                      <th align="center">&nbsp&nbsp&nbsp<b><%= alertGroup.alertTypeName %></b></th>
                        <% roles2.forEach(function(roles2) { %>
                      <td headers="users <%= alert.alertName %>  <%= roles2.roleName %>" align="center">
                        
                      </td>
                      <% }); %>
                    </tr>

                    <% alert.forEach(function(alert) { %>
                    <% if (alert.softDeleted == false) { %>
                    <% if (alertGroup.alertTypeID == alert.alertTypeID) { %>
                    <tr>
                      <th align="left" headers="users" id="receive_<%= alert.alertName %>"><%= alert.alertName %></th>
                        <% roles2.forEach(function(roles2) { %>
                      <td headers="users <%= alert.alertName %>  <%= roles2.roleName %>" align="center">
                        <% if ((aclModifyAlertsTable == null || aclModifyAlertsTable.checkBoxValue == true)) {%>
                        <input type="checkbox"
                              name="aclAlertCheckBox"
                              value="r<%= roles2.roleID %><%= alert.alertID %>"
                              class="R<%= roles2.roleID %><%= alertGroup.alertTypeID %>"
                                <% var checkBoxNumber = 'r'+roles2.roleID+''+alert.alertID %>
                                <% aclAlerts.forEach(function(acl) { %>
                                <% if ( acl.checkBoxID == checkBoxNumber && acl.checkBoxValue == true) { %>
                              checked
                                <% } %>
                                <% }); %>
                              onClick="EnableSubmit(this)"/>
                        <% } else { %>
                        <input type="checkbox"
                              name="aclAlertCheckBox"
                              value="r<%= roles2.roleID %><%= alert.alertID %>"
                              class="R<%= roles2.roleID %><%= alertGroup.alertTypeID %>"
                                <% var checkBoxNumber = 'r'+roles2.roleID+''+alert.alertID %>
                                <% aclAlerts.forEach(function(acl) { %>
                                <% if ( acl.checkBoxID == checkBoxNumber && acl.checkBoxValue == true) { %>
                              checked
                                <% } %>
                                <% }); %>
                              onClick="EnableSubmit(this)" disabled/>
                        <% } %>
                      </td>
                      <% }); %>
                    </tr>
                    <% } %>
                    <% } %>
                    <% }); %>
                    <% }); %>
                  </tbody>
                </table>
              </div>

<% include ../footers/footer.ejs %>
